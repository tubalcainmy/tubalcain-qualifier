<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tubalcain ‚Äî Installer Access Request</title>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TZ6FE345VT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-TZ6FE345VT');
</script>

<!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '876782168289067');
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=876782168289067&ev=PageView&noscript=1"
/></noscript>
<!-- End Meta Pixel Code -->

<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
  :root {
    --black: #0a0a0a;
    --dark: #111111;
    --card: #161616;
    --border: #222222;
    --gold: #f5c842;
    --gold-dim: #c9a32a;
    --amber: #ff8c00;
    --white: #f0ece0;
    --muted: #888880;
    --danger: #ff4444;
    --success: #2ecc71;
  }

  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background-color: var(--black);
    color: var(--white);
    font-family: 'Manrope', sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
  }

  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image:
      linear-gradient(rgba(245,200,66,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(245,200,66,0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 0;
  }

  .glow-top {
    position: fixed;
    top: -200px;
    left: 50%;
    transform: translateX(-50%);
    width: 600px;
    height: 400px;
    background: radial-gradient(ellipse, rgba(245,200,66,0.12) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
  }

  .wrapper {
    position: relative;
    z-index: 1;
    max-width: 680px;
    margin: 0 auto;
    padding: 40px 20px 60px;
  }

  .badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: rgba(245,200,66,0.08);
    border: 1px solid rgba(245,200,66,0.25);
    border-radius: 100px;
    padding: 6px 16px;
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--gold);
    margin-bottom: 28px;
  }
  .badge-dot {
    width: 6px; height: 6px;
    border-radius: 50%;
    background: var(--gold);
    animation: pulse 2s ease-in-out infinite;
  }
  @keyframes pulse {
    0%,100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.4; transform: scale(0.8); }
  }

  .headline {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(38px, 7vw, 62px);
    line-height: 0.95;
    letter-spacing: 0.02em;
    color: var(--white);
    margin-bottom: 10px;
  }
  .headline span { color: var(--gold); display: block; }

  .subheadline {
    font-size: 15px;
    color: var(--muted);
    line-height: 1.6;
    margin-bottom: 10px;
    max-width: 520px;
    font-weight: 500;
  }

  .urgency-bar {
    display: flex;
    align-items: center;
    gap: 10px;
    background: rgba(255,140,0,0.08);
    border: 1px solid rgba(255,140,0,0.2);
    border-radius: 8px;
    padding: 10px 14px;
    margin-bottom: 32px;
    font-size: 12px;
    font-weight: 700;
    color: var(--amber);
    letter-spacing: 0.05em;
  }

  .progress-bar-wrap { margin-bottom: 32px; }
  .progress-steps {
    display: flex;
    align-items: center;
    gap: 0;
    margin-bottom: 10px;
  }
  .step-node {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px; height: 28px;
    border-radius: 50%;
    border: 2px solid var(--border);
    font-size: 11px;
    font-weight: 800;
    color: var(--muted);
    transition: all 0.3s;
    flex-shrink: 0;
    background: var(--black);
  }
  .step-node.active {
    border-color: var(--gold);
    color: var(--gold);
    background: rgba(245,200,66,0.08);
    box-shadow: 0 0 12px rgba(245,200,66,0.2);
  }
  .step-node.done {
    border-color: var(--success);
    color: var(--black);
    background: var(--success);
  }
  .step-line {
    flex: 1;
    height: 2px;
    background: var(--border);
    transition: background 0.4s;
  }
  .step-line.filled { background: var(--gold); }
  .progress-track {
    width: 100%;
    height: 3px;
    background: var(--border);
    border-radius: 10px;
    overflow: hidden;
  }
  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--gold-dim), var(--gold));
    border-radius: 10px;
    transition: width 0.5s cubic-bezier(0.4,0,0.2,1);
    width: 0%;
  }

  .form-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 32px 28px;
    position: relative;
    overflow: hidden;
  }
  .form-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--gold), transparent);
    opacity: 0.6;
  }

  .question-block { display: none; }
  .question-block.active { display: block; animation: fadeSlide 0.35s ease; }

  @keyframes fadeSlide {
    from { opacity: 0; transform: translateX(16px); }
    to { opacity: 1; transform: translateX(0); }
  }

  .q-label {
    font-size: 11px;
    font-weight: 800;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--gold);
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .q-label::after {
    content: '';
    flex: 1;
    height: 1px;
    background: var(--border);
  }

  .q-title {
    font-size: clamp(17px, 3vw, 22px);
    font-weight: 800;
    color: var(--white);
    line-height: 1.3;
    margin-bottom: 6px;
  }

  .q-sub {
    font-size: 13px;
    color: var(--muted);
    margin-bottom: 22px;
    line-height: 1.5;
  }

  .options { display: flex; flex-direction: column; gap: 10px; }

  .option {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 14px 16px;
    border: 1.5px solid var(--border);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s;
    background: transparent;
    text-align: left;
    width: 100%;
    color: var(--white);
    font-family: 'Manrope', sans-serif;
    font-size: 14px;
    font-weight: 600;
    position: relative;
  }
  .option:hover {
    border-color: rgba(245,200,66,0.4);
    transform: translateX(3px);
    background: rgba(245,200,66,0.03);
  }
  .option.selected {
    border-color: var(--gold);
    background: rgba(245,200,66,0.06);
  }
  .option.selected .opt-radio {
    border-color: var(--gold);
    background: var(--gold);
  }
  .option.selected .opt-radio::after { opacity: 1; }

  .opt-radio {
    width: 20px; height: 20px;
    border-radius: 50%;
    border: 2px solid var(--border);
    flex-shrink: 0;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.2s;
  }
  .opt-radio::after {
    content: '';
    width: 7px; height: 7px;
    border-radius: 50%;
    background: var(--black);
    opacity: 0;
    transition: opacity 0.2s;
  }

  .opt-text { flex: 1; line-height: 1.4; }


  .field-group { display: flex; flex-direction: column; gap: 14px; }
  .field { display: flex; flex-direction: column; gap: 6px; }
  .field label {
    font-size: 12px;
    font-weight: 700;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--muted);
  }
  .field input {
    background: rgba(255,255,255,0.04);
    border: 1.5px solid var(--border);
    border-radius: 8px;
    padding: 13px 16px;
    color: var(--white);
    font-family: 'Manrope', sans-serif;
    font-size: 15px;
    font-weight: 500;
    transition: border-color 0.2s;
    outline: none;
    width: 100%;
  }
  .field input:focus {
    border-color: var(--gold);
    background: rgba(245,200,66,0.03);
  }
  .field input::placeholder { color: #555; font-size: 14px; }
  .field .field-note { font-size: 11px; color: var(--muted); }

  .disqualified { display: none; text-align: center; padding: 10px 0 6px; }
  .disq-icon { font-size: 48px; margin-bottom: 16px; }
  .disq-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 34px;
    color: var(--white);
    margin-bottom: 10px;
  }
  .disq-body {
    font-size: 14px;
    color: var(--muted);
    line-height: 1.7;
    margin-bottom: 20px;
    max-width: 420px;
    margin-left: auto;
    margin-right: auto;
  }
  .disq-box {
    background: rgba(255,68,68,0.05);
    border: 1px solid rgba(255,68,68,0.15);
    border-radius: 10px;
    padding: 16px;
    font-size: 13px;
    color: #ff9999;
    line-height: 1.6;
    margin-bottom: 20px;
    text-align: left;
  }
  .waitlist-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: rgba(245,200,66,0.08);
    border: 1.5px solid rgba(245,200,66,0.3);
    border-radius: 8px;
    padding: 13px 24px;
    color: var(--gold);
    font-family: 'Manrope', sans-serif;
    font-size: 14px;
    font-weight: 700;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.2s;
  }
  .waitlist-btn:hover { background: rgba(245,200,66,0.14); }

  .next-btn {
    width: 100%;
    margin-top: 22px;
    padding: 16px;
    background: var(--gold);
    color: #000;
    border: none;
    border-radius: 10px;
    font-family: 'Manrope', sans-serif;
    font-size: 15px;
    font-weight: 800;
    letter-spacing: 0.04em;
    text-transform: uppercase;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
  }
  .next-btn:hover { background: #f0be30; transform: translateY(-1px); }
  .next-btn:active { transform: translateY(0); }
  .next-btn:disabled {
    background: var(--border);
    color: var(--muted);
    cursor: not-allowed;
    transform: none;
  }
  .arrow { transition: transform 0.2s; }
  .next-btn:hover .arrow { transform: translateX(4px); }

  .back-btn {
    background: none;
    border: none;
    color: var(--muted);
    font-family: 'Manrope', sans-serif;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    margin-top: 14px;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: color 0.2s;
    padding: 4px 0;
  }
  .back-btn:hover { color: var(--white); }

  .err-msg {
    font-size: 12px;
    color: #ff6b6b;
    margin-top: 10px;
    display: none;
    font-weight: 600;
  }

  .trust-bar {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
    margin-top: 16px;
    flex-wrap: wrap;
  }
  .trust-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 11px;
    color: var(--muted);
    font-weight: 600;
  }

  .proof-strip {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    margin: 28px 0 0;
  }
  .proof-item {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 14px 12px;
    text-align: center;
  }
  .proof-num {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 28px;
    color: var(--gold);
    line-height: 1;
    margin-bottom: 4px;
  }
  .proof-label {
    font-size: 10px;
    color: var(--muted);
    font-weight: 600;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    line-height: 1.3;
  }

  @media (max-width: 480px) {
    .wrapper { padding: 24px 16px 48px; }
    .form-card { padding: 24px 18px; }
    .proof-num { font-size: 22px; }
    .trust-bar { gap: 12px; }
  }
</style>
</head>
<body>
<div class="glow-top"></div>

<div class="wrapper">

  <div class="badge">
    <span class="badge-dot"></span>
    DFY Partner Application ‚Äî Limited Slots This Week
  </div>

  <h1 class="headline">
    See Exactly How The ABC System<br>
    <span>Ends Tyre-Kicker<br>Site Visits</span>
  </h1>

  <p class="subheadline">
    Answer 4 short questions to confirm your business is a fit. Then we will show you the exact system our partners use to receive pre-qualified, ready-to-install homeowners directly on their phone ‚Äî every single week.
  </p>

  <div class="urgency-bar">
    ‚ö†Ô∏è &nbsp;Only 8 partner slots available this week ‚Äî Access closes Friday at midnight
  </div>

  <!-- Progress indicator -->
  <div class="progress-bar-wrap">
    <div class="progress-steps">
      <div class="step-node active" id="sn1">1</div>
      <div class="step-line" id="sl1"></div>
      <div class="step-node" id="sn2">2</div>
      <div class="step-line" id="sl2"></div>
      <div class="step-node" id="sn3">3</div>
      <div class="step-line" id="sl3"></div>
      <div class="step-node" id="sn4">4</div>
      <div class="step-line" id="sl4"></div>
      <div class="step-node" id="sn5">‚úì</div>
    </div>
    <div class="progress-track">
      <div class="progress-fill" id="progressFill"></div>
    </div>
  </div>

  <!-- Form Card -->
  <div class="form-card" id="formCard">

    <!-- Q1 -->
    <div class="question-block active" id="q1">
      <div class="q-label">Question 1 of 4 ‚Äî Capacity</div>
      <h2 class="q-title">How many residential solar installations does your team complete per month?</h2>
      <p class="q-sub">Be honest ‚Äî this helps us confirm our lead volume is a fit for your current operation.</p>
      <div class="options">
        <button class="option" data-q="1" data-val="1-3" data-disqualify="true" onclick="selectOption(this)">
          <div class="opt-radio"></div>
          <span class="opt-text">1 ‚Äì 3 installations per month</span>
          
        </button>
        <button class="option" data-q="1" data-val="4-10" onclick="selectOption(this)">
          <div class="opt-radio"></div>
          <span class="opt-text">4 ‚Äì 10 installations per month</span>
          
        </button>
        <button class="option" data-q="1" data-val="11-25" onclick="selectOption(this)">
          <div class="opt-radio"></div>
          <span class="opt-text">11 ‚Äì 25 installations per month</span>
          
        </button>
        <button class="option" data-q="1" data-val="25+" onclick="selectOption(this)">
          <div class="opt-radio"></div>
          <span class="opt-text">More than 25 per month</span>
          
        </button>
      </div>
      <div class="err-msg" id="err1">Please select an option to continue.</div>
      <button class="next-btn" onclick="nextQuestion(1)">
        Continue <span class="arrow">‚Üí</span>
      </button>
    </div>

    <!-- Q2 -->
    <div class="question-block" id="q2">
      <div class="q-label">Question 2 of 4 ‚Äî Ticket Size</div>
      <h2 class="q-title">What is the average value of the solar systems you typically install?</h2>
      <p class="q-sub">This tells us whether our service will deliver a clear return on your investment.</p>
      <div class="options">
        <button class="option" data-q="2" data-val="below-1.5m" data-disqualify="true" onclick="selectOption(this)">
          <div class="opt-radio"></div>
          <span class="opt-text">Below ‚Ç¶1.5 million per system</span>
        </button>
        <button class="option" data-q="2" data-val="1.5m-3.5m" onclick="selectOption(this)">
          <div class="opt-radio"></div>
          <span class="opt-text">‚Ç¶1.5M ‚Äì ‚Ç¶3.5M per system</span>
          
        </button>
        <button class="option" data-q="2" data-val="3.5m-8m" onclick="selectOption(this)">
          <div class="opt-radio"></div>
          <span class="opt-text">‚Ç¶3.5M ‚Äì ‚Ç¶8M per system</span>
          
        </button>
        <button class="option" data-q="2" data-val="above-8m" onclick="selectOption(this)">
          <div class="opt-radio"></div>
          <span class="opt-text">Above ‚Ç¶8M (commercial or premium residential)</span>
          
        </button>
      </div>
      <div class="err-msg" id="err2">Please select an option to continue.</div>
      <button class="next-btn" onclick="nextQuestion(2)">
        Continue <span class="arrow">‚Üí</span>
      </button>
      <button class="back-btn" onclick="goBack(1)">‚Üê Back</button>
    </div>

    <!-- Q3 -->
    <div class="question-block" id="q3">
      <div class="q-label">Question 3 of 4 ‚Äî Your Situation</div>
      <h2 class="q-title">What is your biggest frustration in your solar business right now?</h2>
      <p class="q-sub">Choose the one that hurts most. This helps us send you the most relevant part of the toolkit first.</p>
      <div class="options">
        <button class="option" data-q="3" data-val="not-enough-leads" onclick="selectOption(this)">
          <div class="opt-radio"></div>
          <span class="opt-text">Not enough leads ‚Äî my team has capacity but no consistent pipeline</span>
        </button>
        <button class="option" data-q="3" data-val="time-wasters" onclick="selectOption(this)">
          <div class="opt-radio"></div>
          <span class="opt-text">Too many time-wasters ‚Äî people inquire but can't afford it or aren't serious</span>
        </button>
        <button class="option" data-q="3" data-val="inconsistent-revenue" onclick="selectOption(this)">
          <div class="opt-radio"></div>
          <span class="opt-text">Inconsistent monthly revenue ‚Äî some months strong, others dangerously slow</span>
        </button>
        <button class="option" data-q="3" data-val="closing-rate" onclick="selectOption(this)">
          <div class="opt-radio"></div>
          <span class="opt-text">Low closing rate ‚Äî I get leads but struggle to convert them to paid jobs</span>
        </button>
      </div>
      <div class="err-msg" id="err3">Please select an option to continue.</div>
      <button class="next-btn" onclick="nextQuestion(3)">
        Continue <span class="arrow">‚Üí</span>
      </button>
      <button class="back-btn" onclick="goBack(2)">‚Üê Back</button>
    </div>

    <!-- Q4 -->
    <div class="question-block" id="q4">
      <div class="q-label">Question 4 of 4 ‚Äî Readiness</div>
      <h2 class="q-title">If 30 homeowners ready to install were delivered to your WhatsApp this week ‚Äî is your team ready to follow up?</h2>
      <p class="q-sub">Leads only convert when the installer is operationally ready. Be honest ‚Äî there's no wrong answer here.</p>
      <div class="options">
        <button class="option" data-q="4" data-val="ready-now" onclick="selectOption(this)">
          <div class="opt-radio"></div>
          <span class="opt-text">Yes ‚Äî we have the team and time. We're ready right now.</span>
          
        </button>
        <button class="option" data-q="4" data-val="need-a-week" onclick="selectOption(this)">
          <div class="opt-radio"></div>
          <span class="opt-text">Almost ‚Äî we'd need about a week to get our follow-up process in order</span>
          
        </button>
        <button class="option" data-q="4" data-val="not-ready" data-disqualify="true" onclick="selectOption(this)">
          <div class="opt-radio"></div>
          <span class="opt-text">Not yet ‚Äî we're not in a position to handle that volume right now</span>
        </button>
      </div>
      <div class="err-msg" id="err4">Please select an option to continue.</div>
      <button class="next-btn" onclick="nextQuestion(4)">
        Continue <span class="arrow">‚Üí</span>
      </button>
      <button class="back-btn" onclick="goBack(3)">‚Üê Back</button>
    </div>

    <!-- Q5: Contact -->
    <div class="question-block" id="q5">
      <div class="q-label">‚úÖ You Qualify ‚Äî One Last Step</div>
      <h2 class="q-title">Enter your details to see exactly how our system works</h2>
      <p class="q-sub">Before applying for our DFY service, we will show you a full breakdown of how we deliver pre-qualified homeowners to your phone ‚Äî the exact targeting, filtering process, and what a typical week looks like for our partners. Then you can decide if it is the right fit for your business.</p>
      <div class="field-group">
        <div class="field">
          <label>Full Name</label>
          <input type="text" id="fname" placeholder="e.g. Chukwuemeka Okafor" autocomplete="name" />
        </div>
        <div class="field">
          <label>WhatsApp Number</label>
          <input type="tel" id="fphone" placeholder="e.g. 08012345678" autocomplete="tel" />
          <span class="field-note">We'll follow up here if you have questions. No spam, ever.</span>
        </div>
        <div class="field">
          <label>Email Address</label>
          <input type="email" id="femail" placeholder="e.g. you@yourcompany.com" autocomplete="email" />
        </div>
        <div class="field">
          <label>City / State</label>
          <input type="text" id="fcity" placeholder="e.g. Lagos / Abuja / Port Harcourt" />
        </div>
      </div>
      <div class="err-msg" id="err5">Please fill in all fields to continue.</div>
      <button class="next-btn" id="submitBtn" onclick="submitForm()">
        ‚ö° Show Me How The System Works <span class="arrow">‚Üí</span>
      </button>
      <button class="back-btn" onclick="goBack(4)">‚Üê Back</button>
      <div class="trust-bar">
        <div class="trust-item">üîí No Commitment</div>
        <div class="trust-item">‚úÖ No Spam Ever</div>
        <div class="trust-item">‚ö° Instant Access</div>
      </div>
    </div>

    <!-- Disqualified -->
    <div class="disqualified" id="disqScreen">
      <div class="disq-icon">‚öôÔ∏è</div>
      <div class="disq-title">Not The Right Fit ‚Äî Yet</div>
      <div class="disq-box">
        Based on your answers, our DFY lead system may not deliver the ROI we guarantee at your current stage. We only partner with installers who can handle and close the volume we send.
      </div>
      <p class="disq-body">
        The good news: the <strong style="color:var(--white)">ABC Playbook is completely free</strong> and is designed exactly for where you are right now. It will help you grow your operation to the point where our DFY system makes total sense.
      </p>
      <a href="https://tubalcain.systeme.io/solar-portal-ny" class="waitlist-btn">
        üì• Get The Free ABC Playbook Anyway ‚Üí
      </a>
    </div>

  </div>

  <!-- Social proof -->
  <div class="proof-strip" id="proofStrip">
    <div class="proof-item">
      <div class="proof-num">35</div>
      <div class="proof-label">Qualified Leads<br>in 1 Week</div>
    </div>
    <div class="proof-item">
      <div class="proof-num">38%</div>
      <div class="proof-label">Average<br>Close Rate</div>
    </div>
    <div class="proof-item">
      <div class="proof-num">41</div>
      <div class="proof-label">Verified Ops<br>in 7 Days</div>
    </div>
  </div>

</div>

<script>
  const answers = {};
  const totalSteps = 5;

  function updateProgress(step) {
    const pct = ((step - 1) / (totalSteps - 1)) * 100;
    document.getElementById('progressFill').style.width = pct + '%';
    for (let i = 1; i <= totalSteps; i++) {
      const node = document.getElementById('sn' + i);
      if (!node) continue;
      node.classList.remove('active', 'done');
      if (i < step) node.classList.add('done');
      else if (i === step) node.classList.add('active');
    }
    for (let i = 1; i <= 4; i++) {
      const line = document.getElementById('sl' + i);
      if (line) line.classList.toggle('filled', i < step);
    }
  }

  function selectOption(el) {
    const q = el.dataset.q;
    document.querySelectorAll(`.option[data-q="${q}"]`).forEach(o => o.classList.remove('selected'));
    el.classList.add('selected');
    answers[q] = { val: el.dataset.val, disqualify: el.dataset.disqualify === 'true' };
    document.getElementById('err' + q).style.display = 'none';
  }

  function nextQuestion(from) {
    if (!answers[from]) {
      document.getElementById('err' + from).style.display = 'block';
      return;
    }
    if (answers[from].disqualify) {
      showDisqualified();
      return;
    }
    const next = from + 1;
    document.getElementById('q' + from).classList.remove('active');
    document.getElementById('q' + next).classList.add('active');
    updateProgress(next);
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  function goBack(to) {
    document.getElementById('q' + (to + 1)).classList.remove('active');
    document.getElementById('q' + to).classList.add('active');
    updateProgress(to);
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  function showDisqualified() {
    for (let i = 1; i <= 5; i++) {
      const q = document.getElementById('q' + i);
      if (q) q.classList.remove('active');
    }
    document.getElementById('disqScreen').style.display = 'block';
    document.getElementById('progressFill').style.width = '100%';
    document.getElementById('proofStrip').style.display = 'none';
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  function submitForm() {
    const name = document.getElementById('fname').value.trim();
    const phone = document.getElementById('fphone').value.trim();
    const email = document.getElementById('femail').value.trim();
    const city = document.getElementById('fcity').value.trim();
    const errEl = document.getElementById('err5');

    if (!name || !phone || !email || !city) {
      errEl.style.display = 'block';
      errEl.textContent = 'Please fill in all fields to get access.';
      return;
    }
    if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
      errEl.style.display = 'block';
      errEl.textContent = 'Please enter a valid email address.';
      return;
    }

    errEl.style.display = 'none';
    const btn = document.getElementById('submitBtn');
    btn.disabled = true;
    btn.textContent = '‚è≥ Verifying Access...';

    fetch('https://hook.eu1.make.com/45ltiptmoe3p0o2igyfgsqs2b7olo549', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        timestamp: new Date().toISOString(),
        name,
        phone,
        email,
        city,
        monthly_installs: answers[1]?.val,
        avg_deal_size: answers[2]?.val,
        pain_point: answers[3]?.val,
        team_readiness: answers[4]?.val
      })
    })
    .catch(err => console.error('Webhook error:', err))
    .finally(() => {
      // Fire Google Analytics conversion event
      if (typeof gtag === 'function') {
        gtag('event', 'qualified_submission', {
          event_category: 'form',
          event_label: 'installer_qualifier'
        });
      }
      window.location.href = 'https://tubalcain.systeme.io/solar-portal';
    });
  }

  updateProgress(1);
</script>
</body>
</html>
